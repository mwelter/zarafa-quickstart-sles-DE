<!doctype html>
<html lang="de">
<head>
	<meta charset="utf-8">
	<title>Zarafa Quickstart SUSE Studio</title>
	<base target="_blank">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link rel="stylesheet" href="css/reveal.min.css">
	<link rel="stylesheet" href="css/theme/zarafa.css" id="theme">
	<!--Add support for earlier versions of Internet Explorer -->
	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
	
	<!-- For syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">
	
	<!-- If the query includes 'print-pdf', include the PDF print sheet -->
	<script>
		if (window.location.search.match(/print-pdf/gi)) {
			var link = document.createElement('link');
			
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = 'css/print/pdf.css';
			document.getElementsByTagName('head')[0].appendChild(link);
		}
		</script>
</head>
<body style="background-image:url('images/Zarafa_logo_transparent.png'); background-repeat:no-repeat; background-position:right top">
	<div class="reveal">
		<div class="slides">
			<section>
				<h1>Zarafa Quickstart Manual</h1>
				<p>Get started with the Zarafa Suse Studio Appliance!</p>
			</section>
			<section>
				<h2>How to use this manual?</h2>
				<ul>
					<li>Navigation is done with the arrow keys your keyboard:</li>
					<ul>
						<li>Left and right to go through the topics,</li>
						<li>down for more detailed information.</li>
						<li>But if you like you can also use the navigation in the bottom right corner or your touch screen</li>
						<li>or simply go through all slides with the space bar.</li>
					</ul>
					<li>You can press the ESC key to get an overview of all slides</li>
					<li>If you like you can also print this presentation (works best with Chrome)</li>
				</ul>
				<aside class="notes">
					Some additional information are displayed in the web console of the browser. This comes in handy if these slides are used as part of a training.
					Additionally to the shortkeys mentioned above the screen can be darkened with the "." or the "b" key.
				</aside>
			</section>
			<section id="aim">
				<h2>You are about to learn ...</h2>
				<p><ul>
					<li>... what Zarafa is in general</li>
					<li>... the technical background of every Zarafa installation</li>
					<li>... how to get started with the VM</li>
					<li>... how to integrate the VM into your environment</li>
					<li>... how to manage users and groups</li>
					<li>... how to connect the individual clients</li>
					<li>... how to migrate your data</li>
					<li>... how to backup your system</li>
				</ul></p>
			</section>
			
			<section>
				<h2>Agenda</h2>
				<ul>
					<li><a href="#/about">Who and what is Zarafa?</a></li>
					<li><a href="#/techbackground">Technischer Hintergrund von Zarafa</a></li>
					<li><a href="#/inbetriebnahme">Inbetriebnahme der VM</a></li>
					<li><a href="#/integration">Integration der VM in die bestehende Umgebung</a></li>
					<li><a href="#/benutzerverwaltung">Benutzerverwaltung in OpenLDAP oder ActiveDirectory</a></li>
					<li><a href="#/clients">Clientanbindung</a></li>
					<li><a href="#/migration">Datenmigration</a></li>
					<li><a href="#/backup">Backup</a></li>
					<li><a href="#/help">Need more help?</a></li>
				</ul>
			</section>
				
			<section id="about">
				<section>
					<h2>Who is Zarafa?</h2>
					<ul>
						<li>Zarafa B.V. [Delft/Netherlands]</li>
						<ul>
							<li>founded 1999</li>
							<li>international Headquarter</li>
							<li>Home of our developers, QA, international sales and support</li>
						</ul>
						<li>Zarafa Deutschland GmbH [Hanover/Germany]</li>
						<ul>
							<li>founded 2006</li>
							<li>Sales and support for Germany, Austria and Switzerland</li>
						</ul>
					</ul>
				</section>
				<section>
					<h2>What is Zarafa?</h2>
					<h3>Open</h3>
					<ul class="fragment">
						<li>Open Source - AGPL since 2006</li>
						<li>Open Design - Open Architecture</li>
						<li>Open Choice - In-house, cloud based or both combined</li>
					</ul>
					<h3>Compatible</h3>
					<ul class="fragment">
						<li>Complete MAPI implementation</li>
						<li>Best integration of Microsoft Outlook (2003 - 2013)</li>
						<li>Z-Push (implements Exchange ActiveSync) for Mobile Devices</li>
						<li>Full featured HTML5 WebApp</li>
					</ul>
					<h3>Enterprise</h3>
					<ul class="fragment">
						<li>Subscription including maintenance and support</li>
						<li>Scales from 5 to 50.000 users (and beyond)</li>
						<li>Enterprise level High Availability</li>
						<li>can be completely virtualized</li>
					</ul>
				</section>
			</section>
			
			<section id="techbackground">
				<section>
					<h2>Technischer Hintergrund von Zarafa</h2>	
					<p>In diesem Kapitel lernen Sie den vollständigen technischen Hintergrund von Zarafa kennen.</p>
					<p>Gehen Sie dazu bitte "nach unten" um die einzelnen Folien anzusehen</p>
				</section>
				<section>
					<h2>Technischer Hintergrund (1)</h2>
					<ul>
						<li>Zarafa ist ein auf Linux basierender Groupwareserver</li><br>
						<li>Zarafa verwendet als Datenmodell MAPI - wie MS-Exchange</li>
						<li>Daten werden in einer MySQL Datenbank gespeichert und E-Mail Attachments im Filesystem</li><br>
						<li>Anbindung an Outlook mit zarafaclient.msi Paket welches MAPI-Treiber in Outlook für native Anbindung an Zarafa bereitstellt</li>
						<li>Outlook kann Online und Offline genutzt werden</li>
					</ul>
				</section>
				<section>
					<h2>Technischer Hintergrund (2)</h2>
					<ul>
						<li>Zarafa WebApp ist ein Webclient mit ExtJS und HTML 5 Technologie und wird auf einem Apache Webserver mit PHP installiert</li>
						<li>Genutzt wird die Zarafa PHPMAPI Bibliothek für eine native Anbindung an den Server</li>
						<li>WebApp besitzt eine Pluginschnittstelle für die Erweiterung von Features oder die Integration von 3rd Party Software</li><br>
						<li>Z-Push ist die OpenSource Implementierung des Microsoft ActiveSync Protokoll</li>
						<li>Ist in PHP entwickelt, kann auf Webserver mit PHP installiert werden und bietet identische Features wie ein Exchangeserver</li>
					</ul>
				</section>
				<section>
					<h2>Technischer Hintergrund (3)</h2>
					<ul>
						<li>E-Mailclients können per Zarafa Gateway über die Standardprotokolle IMAP und POP3 angebunden werden</li>
						<li>Kalenderclients nutzen das Zarafa Gateway über das Standardprotokoll CalDAV um iCal Dateien auszutauschen</li>
						<li>Aufgabe der Gateways ist die Übersetzung der MAPI Informationen in die entsprechenden Standards und bereitstellung der Standardprotokolle</li>
						<br>
						<li>Zukünftig (ab Zarafa 7.2.0) steht das XML basierte Protokoll "Zarafa Webservices" (ZWS) als Ersatz für das Exchange Webserviceprotokoll (EWS) für die native Anbindung von z.B. MacOS Clients (auch Outlook für MacOS) zur Verfügung.</li>
					</ul>
				</section>
				<section>
					<h2>Technischer Hintergrund (4)</h2>
					<ul>
						<li>Zarafa bringt keinen eigenen E-Mailserver mit. Nahezu jeder E-Mailserver (MTA) (z.B. Postfix, Sendmail...) kann wie zuvor konfiguriert weitergenutzt werden</li>
						<li>MTA übergibt nach evtl. konfigurierten Filtern für Viren/SPAM die eingehende E-Mail an den Zarafa dAgent, der die E-Mail in ein MAPI Objekt konvertiert und ins korrekte Postfach ablegt.</li>
						<li>Der Versand von E-Mails wird durch den Zarafa Spooler erledigt. Er konvertiert die in den Clients abgesendeten E-Mails zu einer Standard SMTP Mail und übergibt diese an den MTA</li>
						<li>Für interne E-Mails ist dadurch ebenfalls ein Virenschutz gewährleistet.</li>
					</ul>
				</section>
				<section>
					<h2>Technischer Hintergrund (5)</h2>
					<ul>
						<li>Benutzerverwaltung kann in der MySQL Datenbank genutzt werden.</li>
						<li>Empfohlen ist die Verwendung eines Verzeichnisdienstes wie OpenLDAP, ActiveDirectory, eDirectory oder jeder andere LDAP basierende Verzeichnisdienst.</li>
						<li>Durch eine Schemaerweiterung werden die von Zarafa benötigten Informationen nutzbar gemacht.</li>
						<li>Zarafa greift nur lesend auf das Verzeichnis zu.</li>
						<li>Anbindung an LDAP wird durch Mapping-Datei individualisiert, d.h. bestehende Verzeichnisse können größtenteils ohne Änderung weitergenutzt werden</li>
					</ul>
				</section>
				<section>
					<h2>Technischer Hintergrund (6)</h2>
					<ul>
						<li>Weitere Zarafa Komponenten sind:</li>
						<ul>
							<li>Zarafa-Monitor: Überwachung und Warnung von Quota Grenzen</li>
							<li>Zarafa-Admin: Administrationstool für Benutzer- und Gruppenverwaltung</li>
							<li>Zarafa-Licensed: Lizenzdämon für die Überwachung von Zarafa Subskriptionen</li>
							<li>Zarafa-Backup: Bricklevel Backup ermöglicht wiederherstellung einzelner Elemente</li>
							<li>Zarafa-Search: Indexierung der Daten (inkl. E-Mail Attachments</li>
						</ul>
					</ul>
				</section>
				<section>
					<h2>Zarafa Archiver</h2>
					<p>Beim Zarafa Archiver handelt es sich um zusätzliches Produkt was bei Professional oder Enterprise Subskriptionen zusätzlich genutzt werden kann, und bereits für 20 Benutzer enthalten ist.</p>
					<p>Ziel des Archiver ist Lastverteilung für ältere E-Mails (Zeitraum kann frei definiert werden). Diese werden auf den Archivserver durch Zarafa automatisch ausgelagt. So bleibt die Produktivdatenbank von der Größe her planbar. Der Archivserver kann mit deutlich günstigerer Hardware ausgestattet sein, da es bei alten E-Mails eher nicht auf Performance ankommt.</p>
				</section>
				<section>
					<h2>Technischer Hintergrund (7)</h2>
					<img src="images/tech.png">
				</section>
				<section>
					<h2>Abhängigkeiten (1)</h2>
					<ul>
						<li>MySQL - Server</li>
						<ul>
							<li>kann sich auf Zarafa Server oder anderem Server befinden</li>
							<li>Wenn separater Datenbankserver ist auf dem Zarafa System die MySQL Client Bibliothek erforderlich</li>
							<li>Ab Zarafa 7.1.10 auch MariaDB offiziell unterstützt</li>
						</ul>
						<li>E-Mailserver (MTA)</li>
						<ul>
							<li>Nahezu jeder MTA nutzbar</li>
							<li>Empfohlen und getestet sind Postfix, Sendmail, Exim und QMail</li>
						</ul>
						<li>Apache Webserver + PHP</li>
						<li>libicu - wird für UTF-8 Unterstützung benötigt</li>
						<li>Englische Sprachpakete</li><br>
					</ul>
				</section>
				<section>
					<h2>Abhängigkeiten (2)</h2>      
					<p>Wenn Zarafa normal installiert wird, sind in den Downloadpaketen folgende Pakete enthalten:</p>
					<ul>
						<li>libvmime + libvmime-devel</li>
						<li>libical + libical-devel</li>
					</ul>
					<p>Bitte achten Sie darauf, daß ausnahmslos die mitgelieferten Pakete installiert werden.</p>
					<p>Wenn der Server automatisch Updates einspielt müssen diese Pakete davon ausgenommen werden.</p>
				</section>
			</section>	

	<section id="inbetriebnahme">
		<section>
		    <h2>Inbetriebnahme der VM</h2>
		    <p>Die VM basiert auf dem SuSE Linux Enterprise Server 11 R3 und enthält die aktuellste Zarafa Version als Exchange Ersatz und 
		    Z-Push für die Anbindung von mobilen Geräten über das Active Sync Protokoll.</p>
		    <p>Weiterhin ist ein OpenLDAP Server mit Beispielbenutzern, ein E-Mailserver der für lokalen E-Mailversand vorkonfiguriert ist und
		    die entsprechende Datenbank enthalten.</p>
		    <br>
		    <p>In den folgenden Schritten erfahren Sie, wie Sie die VM in Betrieb nehmen und dann wie sie für einen produktiven Test in Ihre 
		    Umgebung integriert werden kann.</p>
		</section>	
		<section>
		  <h2>Virtuelle Maschine importieren</h2>
		  <p>Sie können die VM nach dem entpacken wie folgt beschrieben in eine Virtualisierungslösung importieren.</p>
		  ^<p><b>Oracle Virtualbox</b> - Über <i>Datei - Appliance importieren</i> die .ovf Datei importieren.</p>
		  <p><b>VMware Player</b> - Über <i>Datei - Virtuelle Maschine öffnen</i> die .ovf Datei importieren.</p>
		  <p><b>sonstige Lösungen</b> - Erstellen Sie eine neue VM (SUSE 64bit) und importieren Sie die enthaltene .vmdk als virtuelle Festplatte.</p>
		</section>
		<section>
		  <h2>Konfiguration der VM</h2>
		  <p>Standardmäßig wird die VM mit folgenden Werten importiert, die für Testzwecke in den meisten Fällen ausreichend sind. </p>
		  <p>Gerade der Arbeitsspeicher kann je nach Benutzerzahl und Datenmenge erhöht werden. Evtl. ist auch für den Zugriff aus dem lokalen Netzwerk / dem Internet eine
		  2. Netzwerkkarte hinzuzufügen.</p>
		  <ul>
		     <li>Arbeitsspeicher: 2 GB</li>
		     <li>1 CPU-Kern</li>
		     <li>1 Netzwerkinterface / DHCP als Bridge konfiguriert</li>
		  </ul>
		  <p>Nach Import und evtl. Hardwareanpassungen kann die VM gestartet werden.</p>
		</section>
		<section>
		  <h2>Individualisierung (1)</h2>
		  <p>Die VM ist für den Betrieb bereits vorkonfiguriert. Einige Parameter wie z.B. Tastaturlayout, ROOT-Passwort usw. müssen aber beim ersten Start noch Individuell 
		  eingestellt werden.</p>
		  <p>Als erstes erscheint die Lizenz die Sie akzeptieren müssen. Sollten Sie diese Lizenz bereits kennen, können Sie mit der Taste <i>q</i> ans Ende springen.</p>
		  <img src="images/s1.png" width="50%">
		</section>
		<section>
		  <h2>Individualisierung (2)</h2>
		  <img src="images/s2.png" width="60%">
		  <p>Zuerst können Sie die Spracheinstellungen für das System und die Tastatur festlegen.</p>
		</section>
		<section>
		  <h2>Individualisierung (3)</h2>
		  <img src="images/s3.png" width="60%">
		  <p>Hinweis zur bevorstehenden Basiskonfiguration</p>
		</section>
		<section>
		  <h2>Individualisierung (4)</h2>
		  <img src="images/s4.png" width="60%">
		  <p>Ihre Zeitzone und die aktuelle Uhrzeit/Datum. Achten Sie auf die korrekte Datum/Uhrzeiteinstellung.</p>
		</section>
		<section><
		  <h2>Individualisierung (5)</h2>
		  <img src="images/s5.png" width="60%">
		  <p>Hier bitte ein Passwort für den Systemadministrator ROOT vergeben. Auch können Sie hier die Tastureinstellung überprüfen</p>
		</section>
		<section>
		  <h2>Individualisierung (6)</h2>
		  <img src="images/s6.png" width="60%">
		  <p>Die abgefragte Authentifizierungsmethode bezieht sich auf die lokalen Systembenutzer und hat nichts mit Zarafabenutzern zu tun. Wählen Sie hier <i>local</i> aus.</p>
		</section>
		<section>
		  <h2>Individualisierung (7)</h2>
		  <img src="images/s7.png" width="60%">
		  <p>Hier könnten Sie einen lokalen Systembenutzer anlegen. Dies ist für den Testbetrieb mit Zarafa nicht notwendig.</p>
		</section>
		<section>
		  <h2>Individualisierung (8)</h2>
		  <img src="images/s8.png" width="60%">
		  <p>Warnhinweis wenn kein lokaler Benutzer angelegt wurde.</p>
		</section>
		<section>
		  <h2>Individualisierung (9)</h2>
		  <img src="images/s9.png" width="60%">
		  <p>Abschluß der Vorkonfiguration.</p>
		</section>
		<section>
		  <h2>Erster Start</h2>
		  <img src="images/s10.png" width="60%">
		  <p>Nun wird das System das erste mal gestartet und automatisch fertig Vorkonfiguriert. Achten Sie darauf ob hier Fehler beim Start angezeigt werden.</p>
		</section>
	</section>

	<section id="integration">
		<section>
		    <h2>Integration in bestehende Umgebung</h2>	
		    <p>Die VM hat einen für die lokale Nutzung vorkonfigurierten E-Mailserver. Auch sind im enthaltenen OpenLDAP Verzeichnis 2 Demobenutzer enthalten./p>
		    <p>Folgende Themenblöcke werden anschließend behandelt.</p>
		  <ul>
		     <li>E-Mailserver anpassen</li>
		     <li>Lizenzkey einspielen</li>
		     <li>Sprachkonfiguration</li>
		     <li>Indexierung (Zarafa-Search)</li>
		     <li>Tuning MySQL Datenbank + Zarafa</li>
		     <li>Updates einspielen</li>
		  </ul>
		</section>
		
		<section>
		   <h2>E-Mailserver anpassen</h2>
		</section>
		<section>
			<h2>Domäne hinzufügen</h2>
			<ul>
			  <li>Die VM ist für die lokale Testdomäne @zarafa.local bereits vorkonfiguriert.</li>
			  <li>Um eine oder mehrere Domänen hinzuzufügen öffnen Sie die Datei <b>/etc/postfix/main.cf</b>.</li>
			  <li>Am Ende finden Sie die Variable <b>virtual_mailbox_domains</b>, fügen Sie Ihre Domains mit Komma getrennt der Eintragung hinzu.</li>
			  <li>Beispiel: <br><i>virtual_mailbox_domains = zarafa.local, firma.de</i></li>
			  <li>Abschließend muß der Postfix E-Mailserver mit folgendem Befehl neugestartet werden: <i>service postfix restart</i></li>
			</ul>
		</section>
		<section>
		      <h2>Mails von Mailserver abholen</h2>
		      <ul>   
		         <li>Um E-Mails von einem fremden Server abzoholen, kann Fetchmail genutzt werden.</li>
		         <li>Werden E-Mails direkt an die VM zugestellt, muß keine weitere Konfiguration erfolgen.</li>
		         <li>Fetchmail ist auf Abholung alle 60 Sekunden vorkonfiguriert</li>
		         <li>Konfiguration der einzelnen abzuholenden Konten in der Datei <i>/etc/fetchmailrc</i> (Beispiel nächste Folie)</li>
		         <li>Mit dem Befehl <i>chkconfig fetchmail on</i> wird der Fetchmaildienst bei Systemstart automatisch gestartet</li>
		         <li>Nach Konfiguration mit Befehl <i>service fetchmail start</i> erstmalig starten.</li>
		      </ul>
		</section>
		<section>
		      <h2>/etc/fetchmailrc</h2>
		      <ul>   
		         <li><b>defaults</b></li>
			 <li><b>   proto pop3</b> Protokoll zum abholen</li>
   			 <li><b>nokeep</b> löscht Mails auf Server/ keep behält sie</li>
			 <li><b># ab hier Benutzerkonfigurationen</b></li>
			 <li><b>poll demo1@web.de</b> Abzuholende Mailadresse</li>
			 <li><b>via pop3.web.de</b> Serveradresse</li>
			 <li><b>user "demo1"</b> Loginname</li>
			 <li><b>pass "password"</b> Passwort</li>
			 <li><b>mda "/usr/bin/zarafa-dagent demo1"</b> hier Zarafa Login angeben</li>
			 <li><b>flush</b></li>
			 <li><b>no ssl</b> keine SSL Verbindung</li>
		      </ul>
		      <p>Nach diesem Muster können beliebig viele Benutzer erfasst werden.</p>
		</section>
	        <section>
	             <h2>Mailzustellung</h2>
	             <ul>
	                 <li>Um E-Mails nicht direkt zuzustellen muß der eigentlich zuständige E-Mailserver konfiguriert werden.</li>
	                 <li>Konfiguration in der Datei <i>/etc/postfix/main.cf</i></li>
	                 <li>Beispielkonfiguration:<br>
	                   <i>relayhost = [ipadresse]</i><br>
	                   <i>smtp_sasl_auth_enable = yes</i><br>
	                   <i>smtp_sasl_password_maps = hash:/etc/postfix/smtp_auth</i><br>
	                   <i>smtp_sasl_security_options = noanonymous</i></li>
	                 <li>Dann die Datei <i>/etc/postfix/smtp_auth</i> erstellen:<br>
	                 <i>[ipadresse] [Benutzer]:[Passwort]</i></li>
	                 <li>anschließend mit <i>postmap /etc/postfix/smtp_auth</i> die Hash Datei erstellen</li>
	                 <li>Zum Abschluß nun Postfix neustarten mit <i>service postfix restart</i></li>
	              </ul>
	        </section>
	
		<section>
		   <h2>Lizenzkey einspielen</h2>
		</section>
		<section>
			<h2>Editionen</h2>
			<ul>
			  <li><b>Open Source Edition</b><br>
			     Unlimitierter Zugriff per WebApp, IMAP, POP3 und Z-Push möglich<br>
			     Lizenzdienst (zarafa-licensed) läuft nicht</li>
			  <li><b>Free Edition</b><br>
			     zustätzlich zu unlimitiertem Zugriff wie bei OpenSource Edition 3 Outlook Zugriffe möglich<br> 
			     laufender Lizenzdienst ohne oder mit falschem Lizenzkey</li>
			  <li><b>Supporteter Modus</b><br>
			     Zugriff auf alle Open Source und kommerziellen Features<br>
			     laufender Lizenzdienst mit gültigem Lizenzkey<br>
			     pro Benutzer eine Subskription notwendig - keine Unterscheidung nach Clientzugriff</li>
			 </ul>
		</section>
	        <section>
	              <h2>Lizenzkey einspielen</h2>
	              <ul>
	                  <li>Erste Subskription eines Kunden ist die <b>Basis</b> Subskription<br>
	                  diese wird in die Datei <i>/etc/zarafa/license/base</i> geschrieben</li>
	                  <li>Weitere Benutzersubskriptionen erweitern als zusätzlicher <b>Cal</b> die Basis<br>
	                  diese werden in Dateien <i>/etc/zarafa/license/cal1</i> geschrieben.<br>
	                  Die Zahl 1 ist für die erste Erweiterung und muß für jede Erweiterung erhöht werden.</li>
	                  <li>Beispielkey: Zarafa 7.1 - 25 Benutzer - gültig 30 Tage<br>
	                   Z0ZX0068ZX07Z86FFTKJ5B09K </li>
	               </ul>
	         </section>
	         
		<section>
		   <h2>Sprachkonfiguration</h2>
		</section>	         
		<section>
			<h2>Spracheinstellung</h2>
			<ul>
			  <li>Die VM ist für die Deutsche Sprache vorkonfiguriert.</li>
			  <li>Die Konfiguration für die Sprache von Zarafa findet in der Datei <i>/etc/sysconfig/zarafa</i> statt.</li>
			  <li>Die Sprache für die Zarafa Dienste und die öffentlichen Ordner wird in der Variable <b>ZARAFA_LOCALE</b> festgelegt.</li>
			  <li>Die Sprache für die Ordner in den Postfächern wird in der Variable <b>ZARAFA_USERSCRIPT_LOCALE</b> festgelegt.</li>
			  <li>Die Einstellungen greifen nur für nach der Konfiguration angelegte Ordner.</li>			  
			</ul>
		</section>
	         
		<section>
		   <h2>Indexierung</h2>
		</section>	         
		<section>
			<h2>Zarafa Search</h2>
			<ul>
			  <li>Standardmäßig ist die Indexierung eingeschaltet. Dies kann in der <i>/etc/zarafa/server.cfg</i> über die Variable
			  <b>search_enabled</b> ein- oder ausgeschaltet werden. Zusätzlich muß der Dienst zarafa-search laufen.</li>
			  <li>Die Konfiguration der Indexierung findet in der Datei <i>/etc/zarafa/search.cfg</i> statt.</li>
			  <li>Es ist möglich auch E-Mail Attachments zu indexieren. Dazu muß die Variable <b>index_attachments</b> eingeschaltet werden.</li>
			  <li>Über die Variable <b>index_attachment_max_size</b> kann man die maximale Größe an zu indexierendem Dateianhang einstellen.</li>
			</ul>
		</section>

		<section>
		   <h2>Tuning MySQL Datenbank und Zarafa Server</h2>
		</section>	         
		<section>
			<h2>MySQL Datenbank (1)</h2>
			<ul>
			  <li>Die virtuelle Maschine wird standardmäßig mit 2 GB RAM importiert. Für diese RAM Größe ist die MySQL Datenbank bereits optimiert.</li>
			  <li>Zarafa verwendet die Datenbankengine InnoDB. Der InnoDB Cache ist in jeder Zarafa Installation auf die Hardware anzupassen.</li>
			  <li>Die Größe des Cache sollte 50% (mind. 25%) des zur Verfügung stehenden Arbeitsspeicher betragen.</li>
			  <li>InnoDB nutzt neben der Datendatei auch noch ein zugehöriges Logfile, welches 50% der Cachegröße haben sollte, maximal 4GB.</li>
			</ul>
		</section>
		<section>
			<h2>MySQL Datenbank (2)</h2>
			<ul>
			  <li>Die Konfiguration findet in der Datei <i>/etc/my.cnf</i> statt.</li>
			  <li>Folgende Variablen sind anzupasen:<br>
			    <b>innodb_buffer_pool_size = 1024M</b> 1GB Cache Größe<br>
			    <b>innodb_log_file_size = 512M</b> 512MB LogFile Größe</li>
			  <li>Wenn die Log_file_size angepasst wird sind vor dem Neustart des MySQL Server die Logdateien <i>(var/lib/mysql/iblog*</i> zu sichern. Sollte die Datenbank 
			  dann nicht starten, die Logdateien zurückspielen, Wert zurücksetzen und andere Konfiguration verwenden.</li>
			  <li>Lesen Sie für weitere Tuningmöglichkeiten die MySQL Dokumentation.</li> 
			</ul>
		</section>
		<section>
			<h2>Zarafa Cache</h2>
			<ul>
			  <li>Der Zarafa Cache speichert Ansichten (wie z.B. Liste eines E-Mailordners oder Termine eines angezeigten Zeitraumes) in Tabellenform und unterstützend zum
			  Datenbankcache für schnelle Antwortzeiten auch bei großen Umgebungen zu gewährleisten.</li>
			  <li>Die Konfiguration findet in der Datei <i>/etc/zarafa/server.cfg</i> statt.</li>
			  <li>Folgende 3 Variablen sind für jede Installation anzupassen:<br>
			  <b>cache_cell_size = 512M</b> Cache Größe sollte 25% des RAM sein<br>
			  <b>cache_object_size = [100k/Benutzer]</b> enthält Ordnerhierarchie<br>
			  <b>cache_indexed_object_size = [512k/Benuzer]</b> enthält alle ID´s</li>
			</ul>
		</section>
		
		<section>
		   <h2>Updates für Zarafa</h2>
		</section>	         
		<section>
			<h2>Major-/Minor Updates</h2>
			<ul>
			  <li>Die Versionsnummer 7.1.10 hat folgenden Aufbau<br>
			  7.1 => major release number<br>
			  10 => minor release number</li>
			  <li>Major Releases (7.0.x, 7.1.x, 7.2.x) enthalten neben Bugfixes auch eine reihe neuer Features und Technologien.</li>
			  <li>Minor Releases (7.1.9, 7.1.10, 7.1.11) enthalten hauptsächlich Bugfixes und Sicherheitsupdates.</li>
			  <li>Für ein Major Update ist eine gültige Subskription notwendig. Jedes Majorrelease hat einen eigenen Lizenzkey. Bei einem Majorupdate ist zusätzlich zur
			  Software auch der Lizenzkey aktualisiert werden.</li>
			  <li>Minor Releases können jederzeit eingespielt werden. Außer dem Softwareupdate ist keine weitere Änderung notwendig.</li>
			</ul>
		</section>
		<section>
			<h2>Updates einspielen</h2>
			<ul>
			  <li>Alle Zarafa Dienste stoppen, z.B. mit folgendem Befehl:<br>
			  <i>for PROC in /etc/init.d/zarafa-* ; do $PROC stop ; done</i></li>
			  <li>Pakete einspielen, folgender Befehl im Downloadverzeichnis:<br>
			  <i>rpm -Fhv *.rpm</i></li>
			  <li>Anschlieend alle Zarafa Dienste wieder starten:<br>
			  <i>for PROC in /etc/init.d/zarafa-* ; do $PROC start ; done</i></li>
			  <li>Neuer Lizenzkey bei Majorupdate nicht vergessen und folgende Dienste neustarten:<br>
			  <i>service zarafa-licensed restart</i><br>
			  <i>service zarafa-server restart</i>/li>
		</section>		
	</section>         
	         
	<section id="benutzerverwaltung">
		<h2>Benutzerverwaltung im OpenLDAP oder AD</h2>
	</section>
	<section id="clients">
		<h2>Anbindung von Clients an Zarafa</h2>	
	</section>
	
	<section id="migration">
	    <section>
		<h2>Datenmigration</h2>	
		<p>Es gibt verschiedene Methoden um Daten von anderen Groupwareservern oder reinen E-Mailservern zu migrieren.</p>
		<p>In den folgenden Folien ist die Migration von Exchange Servern / PST Dateien näher beschrieben.</p>
		<p>Um von einer anderen Lösung (Groupware oder nur E-Mailserver) eine Datenmigration durchzuführen, gibt es in folgendem Wiki weitere Hinweise</p>
		<b>http://www.zarafa.com/wiki/index.php/Migration_Overview</b>
		<a href="http://www.zarafa.com/wiki/index.php/Migration_Overview"><img src="images/mig1.png" width="40%"></a>
	    </section>
            <section>
		<h2>Migrationstool</h2>
		<p>Zarafa liefert ein Migrationsskript mit. Dieses Tool dient zur automatisierten Migration von<br>
		<ul>
		  <li>Exchange Server [vollständig oder nur einzelne Benutzer]</li>
		  <li>PST Datei(en)</li>
		  <li>Scalix Server</li>
		</ul>
		<p>Das Migrationstool ist in der VM enthalten und kann vom Windowsdesktop per Webbrowser heruntergeladen und installiert werden</p>
		URL: <b>http://[ipadresseVM]/tools/zarafamigrationstool.msi</b>
	    </section>
		  <section>
		    <h2>Exchangemigration (1)</h2>
		    <ul>
		      <li>Um mit dem Migrationstool zu migrieren, benötigen Sie folgende Informationen:</li>
		      <ul>
		        <li>Administrator Benutzerinformationen Exchange Server</li>
		        <li>Benutzerinformationen Zarafa System eines Benutzers mit Administratorberechtigungen</li>
		        <li>Mappingdatei</li>
		      </ul>
		    </ul><br>
		    Auf der folgenden Folie sehen Sie wie auf dem Exchange Server die Mappingdatei vorbereitet werden kann.<br>
		    Wenn Sie von PST Dateien migrieren muß die Mappingdatei folgendermaßen vorbereitet werden:<br>
		    <i>pstdatei,zarafalogin</i><br>
		    <i>demo1.pst,demo1</i><br>
		    <i>demo2.pst,demo2</i>
		  </section>
		  <section>
		    <h2>Exchangemigration (2)</h2>
		    <ul>
		      <li>Auf der Windows Kommandozeile (cmd) kann mit folgendem Befehl die notwendige Information aus dem AD in eine .csv Datei geschrieben
		      werden</li>
		      <li><i>csvde -f C:\User\DemoAdmin\Desktop\zarafa-migrator.csv -d "DC=demofirma,DC=local" -r objectCategory=user -l "legacyExchangeDN,sAMAccountname"</i></li>
		      <li>Es muß der Pfad hinter <i>-f</i> und der Domänenname hinter <i>-d</i> angepasst werden</li>
		      <li>Die .csv Datei enthält alle Benutzer aus dem AD in der Reihenfolge DN,Loginname,legacyExchangeDN</li>
		      <li>Wichtig für die Mappingdatei ist der legacyExchangeDN, die wie folgt aussehen sollte:</li>
		    <i>exchange,zarafalogin</i><br>
		    <i>/o=TESTER/ou=firstadministrativegroup/cn=Recipients/cn=demo1,demo1</i>
		  </section>		
		  <section>
		    <h2>Exchangemigration (3)</h2>
		  </section>
	</section>
	
	<section id="backup">
	    <section>
	      <h2>Backup</h2>
	      <ul>
		<li>Für ein vollständiges und schnelles Desaster Recovery sind folgende Backups einzurichten:</li>
		<ul>
		 <li>MySQL Datenbank</li>
		 <li>Attachment Verzeichnis</li>
		 <li>Konfigurationsverzeichnis /etc/zarafa/</li>
		 <li>Konfigurationsverzeichnis /etc/postfix/</li>
		 <li>OpenLDAP bei Nutzung</li>
		 <li>Unabdingbar ist auf jeden Fall eine Sicherung der Datenbank und der Attachments</li>
		</ul>
	      </ul>
	     </section>
	    <section>
	      <h2>Zarafa Daten sichern</h2>
	      <ul>
		<li>Die Datenbank wird idealerweise mit einem Dump gesichert.</li>
		<li>der Befehl <i>mysqldump</i> muß zwingend mit der Option <b>--single-transaction</b> ausgeführt werden.</li>
		<li>Es können auch folgende Methoden zur Sicherung genutzt werden:</li>
		<ul>
		  <li>Filesystemsnapshot</li>
		  <li>Datenbankreplikation</li>
		  <li>Ordner /var/lib/mysql vollständig wegsichern</li>
		</ul>
		<li>Zusätzlich ist z.B. mit <i>rsync</i>, einem kommerziellen Backuptool oder anderer Konfiguration das Attachment Verzeichnis wegzusichern</li>
	      </ul>
	     </section>
	    <section>
	      <h2>Bricklevel Backup</h2>
	      <ul>
		<li>Zarafa Subskriptionen ermöglichen den Zugriff auf Zarafa Backup. Es handelt sich hierbei um ein Bricklevel Backuptool welches es dem Administrator ermöglicht
		einzelne entgültig gelöschte Elemente wieder herzustellen.</li>
		<li>Es stehen 2 Kommandos zur Verfügung:</li>
		<ul>
		  <li>zarafa-backup</li>
		  <li>zarafa-restore</li>
		</ul>
		<li>Beim Backup (<i>zarafa-backup -a</i> sichert alle Nutzer + Öffentliche Ordner) wird pro Benutzer eine Datendatei und eine Indexdatei angelegt</li>
		<li>Mit einem Hilfsskript <i>readable-index.pl</i> (im Ordner /usr/share/zarafa-backup/) haben Sie eine leichtere Möglichkeit die Indexdatei auszuwerten.</li>
	      </ul>
	     </section>
	</section>
	
	<section>
	      <h2>Weitere Hilfe</h2>
	        Danke das Sie dieses Quickstart Training durchgearbeitet haben. Wir hoffen Sie konnten auf alle Fragen eine Antwort finden.
		Sollten noch weitere Fragen offen sein, haben Sie folgende Möglichkeiten:
		<ul>
		 <li><a href="http://doc.zarafa.com/7.1/Administrator_Manual/en-US/html/">Administrator Handbuch</a></li>
		 <li><a href="http://forums.zarafa.com">Zarafa Forum</a></li>
		 <li>enthaltener Support in einer gültigen Subskription</li>
		 <li>wenn Sie keine Subskription haben, wenden Sie sich gerne an <a href="mailto:sales@zarafaserver.de">sales@zarafaserver.de</a></li>
		 <br>
		 Sollten Sie Feedback zum Training haben, senden Sie bitte eine E-Mail an <a href="mailto:info@zarafaserver.de">info@zarafaserver.de</a>
	      </ul>
	     </section>
        <section id="help">
			<h2>Need more help?</h2>
			<p>Additional help can be gathered from the <a href="http://forums.zarafa.com">Zarafa&nbsp;Community&nbsp;Forums</a>.</p>
			<p>Customers with a valid subscription can open a support case at our <a href="http://porta.zarafa.com">portal</a> or acquire professional services from the <a href="mailto:info@zarafa.com">Zarafa&nbsp;sales&nbsp;team</a>.</p>
        </section>
        <section>
			<h2>Playground/Examples</h2>
			<p>nothing to see here ;-)</p>
			<pre><code class="bash" data-trim contenteditable style="font-size: 18px;">
				apt-get update
			</code></pre>
			Here comes a <code>command</code>
        </section>
      </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>
    <script>
      Reveal.initialize({
      controls: true,
      progress: true,
      history: false,
      center: true,
      slideNumber: true,
      theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
      transition: 'linear',
      dependencies: [
        // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
        { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
        
        // Syntax highlight for <code> elements
        { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },

        // Zoom in and out with Alt+click
        { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },

        // Speaker notes
        { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },

        // Remote control your reveal.js presentation using a touch device
        //{ src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
	    ]
      });
    </script>
    <script>
      Reveal.addEventListener( 'slidechanged', function( event ) {
		  // event.previousSlide, event.currentSlide, event.indexh, event.indexv
		  var notes = event.currentSlide.querySelector(".notes");
		  if(notes) {
			  console.info(notes.innerHTML.replace(/\n\s+/g,'\n'));
		  }
      } );
    </script>
    <div class="footer" style="background-color: #10417a; width: 100%; padding-left: 14px; display: block; position: absolute; bottom: 0px">
		<p><a style="color:white; text-decoration:none" href="http://www.zarafa.com">www.zarafa.com</a></p>
	</div>
  </body>
</html>
